{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/ardi/Documents/React-Project/graphql/E-commerce-React/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  {\\n    itemCount @client\\n  }\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  {\\n    cartItems @client\\n  }\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  {\\n    cartHidden @client\\n  }\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  extend type Item {\\n    quantity: Int\\n  }\\n\\n  extend type Mutation {\\n    ToggleCartHidden: Boolean!\\n    AddItemToCart(item: Item!): [Item]!\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport { gql } from \"apollo-boost\";\nimport { addItemToCart } from \"./cart.utils\";\nexport const typeDefs = gql(_templateObject());\nconst GET_CART_HIDDEN = gql(_templateObject2());\nconst GET_CART_ITEMS = gql(_templateObject3());\nconst GET_ITEM_COUNT = gql(_templateObject4());\nexport const resolvers = {\n  Mutation: {\n    toggleCartHidden: (_root, _args, {\n      cache\n    }) => {\n      const _cache$readQuery = cache.readQuery({\n        query: GET_CART_HIDDEN\n      }),\n            cartHidden = _cache$readQuery.cartHidden;\n\n      cache.writeQuery({\n        query: GET_CART_HIDDEN,\n        data: {\n          cartHidden: !cartHidden\n        }\n      });\n      return !cartHidden;\n    },\n    addItemToCart: (_root, {\n      item\n    }, {\n      cache\n    }) => {\n      const _cache$readQuery2 = cache.readQuery({\n        query: GET_CART_ITEMS\n      }),\n            cartItems = _cache$readQuery2.cartItems;\n\n      const newCartItems = addItemToCart(cartItems, item);\n      cache.writeQuery({\n        query: GET_CART_ITEMS,\n        data: {\n          cartItems: newCartItems\n        }\n      });\n      return newCartItems;\n    }\n  }\n};","map":{"version":3,"sources":["/home/ardi/Documents/React-Project/graphql/E-commerce-React/client/src/graphql/resolvers.js"],"names":["gql","addItemToCart","typeDefs","GET_CART_HIDDEN","GET_CART_ITEMS","GET_ITEM_COUNT","resolvers","Mutation","toggleCartHidden","_root","_args","cache","readQuery","query","cartHidden","writeQuery","data","item","cartItems","newCartItems"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,SAASC,aAAT,QAA8B,cAA9B;AAEA,OAAO,MAAMC,QAAQ,GAAGF,GAAH,mBAAd;AAWP,MAAMG,eAAe,GAAGH,GAAH,oBAArB;AAMA,MAAMI,cAAc,GAAGJ,GAAH,oBAApB;AAMA,MAAMK,cAAc,GAAGL,GAAH,oBAApB;AAMA,OAAO,MAAMM,SAAS,GAAG;AACvBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,gBAAgB,EAAE,CAACC,KAAD,EAAQC,KAAR,EAAe;AAAEC,MAAAA;AAAF,KAAf,KAA6B;AAAA,+BACtBA,KAAK,CAACC,SAAN,CAAgB;AACrCC,QAAAA,KAAK,EAAEV;AAD8B,OAAhB,CADsB;AAAA,YACrCW,UADqC,oBACrCA,UADqC;;AAK7CH,MAAAA,KAAK,CAACI,UAAN,CAAiB;AACfF,QAAAA,KAAK,EAAEV,eADQ;AAEfa,QAAAA,IAAI,EAAE;AAAEF,UAAAA,UAAU,EAAE,CAACA;AAAf;AAFS,OAAjB;AAKA,aAAO,CAACA,UAAR;AACD,KAZO;AAcRb,IAAAA,aAAa,EAAE,CAACQ,KAAD,EAAQ;AAAEQ,MAAAA;AAAF,KAAR,EAAkB;AAAEN,MAAAA;AAAF,KAAlB,KAAgC;AAAA,gCACvBA,KAAK,CAACC,SAAN,CAAgB;AACpCC,QAAAA,KAAK,EAAET;AAD6B,OAAhB,CADuB;AAAA,YACrCc,SADqC,qBACrCA,SADqC;;AAK7C,YAAMC,YAAY,GAAGlB,aAAa,CAACiB,SAAD,EAAYD,IAAZ,CAAlC;AAIAN,MAAAA,KAAK,CAACI,UAAN,CAAiB;AACfF,QAAAA,KAAK,EAAET,cADQ;AAEfY,QAAAA,IAAI,EAAE;AAAEE,UAAAA,SAAS,EAAEC;AAAb;AAFS,OAAjB;AAKA,aAAOA,YAAP;AACD;AA7BO;AADa,CAAlB","sourcesContent":["import { gql } from \"apollo-boost\";\nimport { addItemToCart } from \"./cart.utils\";\n\nexport const typeDefs = gql`\n  extend type Item {\n    quantity: Int\n  }\n\n  extend type Mutation {\n    ToggleCartHidden: Boolean!\n    AddItemToCart(item: Item!): [Item]!\n  }\n`;\n\nconst GET_CART_HIDDEN = gql`\n  {\n    cartHidden @client\n  }\n`;\n\nconst GET_CART_ITEMS = gql`\n  {\n    cartItems @client\n  }\n`;\n\nconst GET_ITEM_COUNT = gql`\n  {\n    itemCount @client\n  }\n`;\n\nexport const resolvers = {\n  Mutation: {\n    toggleCartHidden: (_root, _args, { cache }) => {\n      const { cartHidden } = cache.readQuery({\n        query: GET_CART_HIDDEN\n      });\n\n      cache.writeQuery({\n        query: GET_CART_HIDDEN,\n        data: { cartHidden: !cartHidden }\n      });\n\n      return !cartHidden;\n    },\n\n    addItemToCart: (_root, { item }, { cache }) => {\n      const { cartItems } = cache.readQuery({\n        query: GET_CART_ITEMS\n      });\n\n      const newCartItems = addItemToCart(cartItems, item);\n\n      \n\n      cache.writeQuery({\n        query: GET_CART_ITEMS,\n        data: { cartItems: newCartItems }\n      });\n\n      return newCartItems;\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"module"}